<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app">
        <input type="text" v-model="name" @keyup.delete="shows" @keyup.enter="searchCity"><input type="button" value="搜索" @click="searchCity">
        <span v-for="city in hotCity">
            <a href="" @click.prevent="searchCitys(city)">{{city}}</a> &nbsp;
        </span>
        <hr>
        <span v-show="isShow">{{name}}，今天的天气是：{{message}}</span>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>

        const app = new Vue({
            el:"#app",
            data:{
                name:"",
                message:"",
                hotCity:["北京", "上海", "成都"],
                isShow:false
            },
            methods:{
                searchCity(){
                    console.log(this.name);
                    let _this = this;
                    axios.get("http://localhost:8080/city/find?name="+this.name).then(function (response) {
                        console.log(response.data.message);
                        _this.message = response.data.message;
                        _this.isShow = true;
                    }).catch(function (error) {
                        console.log(error);
                    });
                },
                shows(){
                    this.isShow = false;
                },
                searchCitys(name){
                    this.name = name;
                    this.searchCity()
                }
            }
        });
    </script>
</body>
</html>